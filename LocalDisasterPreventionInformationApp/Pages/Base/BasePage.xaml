<?xml version="1.0" encoding="UTF-8" ?>
<ContentView
    x:Class="LocalDisasterPreventionInformationApp.Pages.Base.BasePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Name="BaseRoot">

    <Grid RowDefinitions="Auto,*,Auto">

        <!-- 共通ヘッダー -->
        <Border x:Name="HeaderArea" Grid.Row="0"
        BackgroundColor="#F5F5F5"
        Padding="10">

            <Grid ColumnDefinitions="Auto,*,Auto,Auto"
          HeightRequest="60">

                <!-- ハンバーガーメニュー -->
                <ImageButton Grid.Column="0"
                     Source="hamburger.png"
                     BackgroundColor="Transparent"
                     WidthRequest="40"
                     HeightRequest="40"
                     Command="{Binding OpenMenuCommand}" />

                <!-- ページ名（左寄せのまま） -->
                <Label Grid.Column="1"
               Text="{Binding PageTitle}"
               FontSize="20"
               VerticalOptions="Center"
               HorizontalOptions="Start"
               Margin="10,0,0,0" />

                <!-- 言語選択（既存のまま） -->
                <Border Grid.Column="2"
                Stroke="#CCCCCC"
                StrokeThickness="1"
                Background="Transparent"
                StrokeShape="RoundRectangle 25"
                WidthRequest="140"
                HeightRequest="35"
                VerticalOptions="Center"
                HorizontalOptions="End"
                Margin="10,0">

                    <Grid>
                        <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                            <Image Source="language.png"
                           WidthRequest="28"
                           HeightRequest="35"
                           VerticalOptions="Center" />
                        </HorizontalStackLayout>

                        <Picker ItemsSource="{Binding LanguageList}"
                        SelectedItem="{Binding SelectedLanguage}"
                        BackgroundColor="#00FFFFFF"
                        TextColor="Black"
                        WidthRequest="140"
                        HeightRequest="35"
                        ZIndex="100"/>
                    </Grid>
                </Border>

                <!-- マイページ -->
                <ImageButton Grid.Column="3"
                     Source="my.png"
                     BackgroundColor="Transparent"
                     WidthRequest="40"
                     HeightRequest="40"
                     Command="{Binding MyPageCommand}" />

            </Grid>
        </Border>

        <!-- ページごとの中身 -->
        <ContentView x:Name="ContentArea"
             Grid.Row="1"
             Content="{Binding Source={x:Reference BaseRoot}, Path=InnerContent}" />

        <!-- 共通フッター -->
        <Grid x:Name="FooterArea" Grid.Row="2" BackgroundColor="#F5F5F5" HeightRequest="30">
            <Label Text="{Binding NewsText}"
                   FontSize="16"
                   VerticalOptions="Center"
                   HorizontalOptions="Center" />
        </Grid>

    </Grid>
</ContentView>