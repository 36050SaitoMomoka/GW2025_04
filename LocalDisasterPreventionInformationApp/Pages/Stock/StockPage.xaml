<ContentPage
    x:Class="LocalDisasterPreventionInformationApp.Pages.Stock.StockPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:base="clr-namespace:LocalDisasterPreventionInformationApp.Pages.Base"
    Shell.NavBarIsVisible="False">

    <base:BasePage>
        <base:BasePage.InnerContent>
            <Grid RowDefinitions="Auto,Auto,*,Auto"
                  Padding="10">
                <!-- 期限が近い商品 -->
                <CollectionView Grid.Row="0"
                                ItemsSource="{Binding ExpiringItems}"
                                SelectionMode="None">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Label Text="{Binding Message}"
                                   TextColor="Red"
                                   FontSize="16"
                                   Margin="0,2"/>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

                <!-- 並べ替え -->
                <Grid Grid.Row="1" ColumnDefinitions="*,Auto" Margin="0,10">
                    <Label Text="{Binding SelectedSortName}"
                           VerticalOptions="Center"
                           FontSize="18"/>
                    <Picker Grid.Column="1"
                            Title="並べ替え"
                            ItemsSource="{Binding SelectedSortItem}"
                            WidthRequest="150"/>
                </Grid>

                <!-- 商品一覧 -->
                <CollectionView Grid.Row="2"
                                ItemsSource="{Binding Items}">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Grid ColumnDefinitions="2*,2*,1*,1*"
                                  Padding="5">
                                <Label Text="{Binding Category}"/>
                                <Label Grid.Column="1" Text="{Binding ProductName}"/>
                                <Label Grid.Column="2" Text="{Binding Quantity}"/>
                                <Label Grid.Column="3" Text="{Binding ExpireDate}"/>
                            </Grid>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

                <!-- 登録ボタン -->
                <Grid Grid.Row="3">
                    <Button Text="登録"
                            HorizontalOptions="End"
                            WidthRequest="120"
                            Margin="0,10,0,0"/>
                </Grid>
            </Grid>
        </base:BasePage.InnerContent>
    </base:BasePage>
</ContentPage>