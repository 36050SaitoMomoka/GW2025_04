<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="LocalDisasterPreventionInformationApp.Pages.Register.RegisterPage"
             Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="Auto,*,Auto">

        <!-- 上部バー -->
        <Grid Grid.Row="0" HeightRequest="200" BackgroundColor="#F5F5F5">
            <Label Text="{Binding Reg_Welcome}"
                   FontSize="24"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   HorizontalTextAlignment="Center"
                   VerticalTextAlignment="Center"/>
        </Grid>

        <!-- 中央フォーム -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="20" Spacing="15" HorizontalOptions="Center">

                <!-- 氏名 -->
                <VerticalStackLayout WidthRequest="300">
                    <Label Text="{Binding Reg_Name}" FontSize="16"/>
                    <Entry x:Name="nameEntry"/>
                    <Label x:Name="nameError" TextColor="Red" FontSize="12" IsVisible="False"/>
                </VerticalStackLayout>

                <!-- フリガナ -->
                <VerticalStackLayout WidthRequest="300">
                    <HorizontalStackLayout>
                        <Label Text="{Binding Reg_Furigana}" FontSize="16"/>
                        <Label Text="{Binding Reg_FuriganaHint}" FontSize="12" TextColor="#888" Margin="8,4,0,0"/>
                    </HorizontalStackLayout>
                    <Entry x:Name="furiganaEntry"/>
                    <Label x:Name="furiganaError" TextColor="Red" FontSize="12" IsVisible="False"/>
                </VerticalStackLayout>

                <!-- メールアドレス -->
                <VerticalStackLayout WidthRequest="300">
                    <HorizontalStackLayout>
                        <Label Text="{Binding Reg_Email}" FontSize="16"/>
                        <Label Text="{Binding Reg_Optional}" FontSize="12" TextColor="#888" Margin="8,4,0,0"/>
                    </HorizontalStackLayout>
                    <Entry x:Name="emailEntry" TextChanged="OnEmailFilter" Keyboard="Email"/>
                </VerticalStackLayout>

                <!-- 電話番号 -->
                <VerticalStackLayout WidthRequest="300">
                    <HorizontalStackLayout>
                        <Label Text="{Binding Reg_Phone}" FontSize="16"/>
                        <Label Text="{Binding Reg_Optional}" FontSize="12" TextColor="#888" Margin="8,4,0,0"/>
                    </HorizontalStackLayout>
                    <Entry x:Name="phoneEntry" TextChanged="OnPhoneFilter" Keyboard="Telephone"/>
                </VerticalStackLayout>

                <!-- 郵便番号 -->
                <VerticalStackLayout WidthRequest="300">
                    <Label Text="{Binding Reg_Zip}" FontSize="16"/>
                    <Entry x:Name="zipEntry" Keyboard="Numeric" TextChanged="onZipChanged"/>
                    <Label x:Name="zipError" TextColor="Red" FontSize="12" IsVisible="False"/>
                </VerticalStackLayout>

                <!-- 都道府県 -->
                <VerticalStackLayout WidthRequest="300">
                    <HorizontalStackLayout>
                        <Label Text="{Binding Reg_Prefecture}" FontSize="16"/>
                        <Label Text="{Binding Reg_AutoFill}" FontSize="12" TextColor="#888" Margin="8,4,0,0"/>
                    </HorizontalStackLayout>
                    <Entry x:Name="prefEntry"
                           IsEnabled="False"
                           BackgroundColor="White"
                           TextColor="Black"
                           Placeholder="{Binding Reg_AutoFromZip}"/>
                </VerticalStackLayout>

                <!-- 市区町村 -->
                <VerticalStackLayout WidthRequest="300">
                    <HorizontalStackLayout>
                        <Label Text="{Binding Reg_City}" FontSize="16"/>
                        <Label Text="{Binding Reg_AutoFill}" FontSize="12" TextColor="#888" Margin="8,4,0,0"/>
                    </HorizontalStackLayout>
                    <Entry x:Name="cityEntry"
                           IsEnabled="False"
                           BackgroundColor="White"
                           TextColor="Black"
                           Placeholder="{Binding Reg_AutoFromZip}"/>
                </VerticalStackLayout>

                <!-- 町域 -->
                <VerticalStackLayout WidthRequest="300">
                    <Label Text="{Binding Reg_Town}" FontSize="16"/>
                    <Entry x:Name="townEntry"/>
                    <Label x:Name="townError" TextColor="Red" FontSize="12" IsVisible="False"/>
                </VerticalStackLayout>

                <!-- 番地 -->
                <VerticalStackLayout WidthRequest="300">
                    <Label Text="{Binding Reg_Address}" FontSize="16"/>
                    <Entry x:Name="addressLineEntry"/>
                    <Label x:Name="addressError" TextColor="Red" FontSize="12" IsVisible="False"/>
                </VerticalStackLayout>

                <!-- 建物名 -->
                <VerticalStackLayout WidthRequest="300">
                    <HorizontalStackLayout>
                        <Label Text="{Binding Reg_Building}" FontSize="16"/>
                        <Label Text="{Binding Reg_Optional}" FontSize="12" TextColor="#888" Margin="8,4,0,0"/>
                    </HorizontalStackLayout>
                    <Entry x:Name="buildingEntry"/>
                </VerticalStackLayout>

                <!-- 次へ -->
                <Button Text="{Binding Btn_Next}"
                        Clicked="OnNextClicked"
                        BackgroundColor="#2196F3"
                        TextColor="White"
                        CornerRadius="8"
                        HeightRequest="50"
                        Margin="0,20,0,20"
                        WidthRequest="100"
                        HorizontalOptions="Center"/>

            </VerticalStackLayout>
        </ScrollView>

        <!-- 下部バー -->
        <Grid Grid.Row="2" HeightRequest="80" BackgroundColor="#F5F5F5"/>
    </Grid>
</ContentPage>